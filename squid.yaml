manifestVersion: subsquid.io/v0.1
name: polkadex-polkassembly
version: 2
description: |-
  Polkadex's governance proposals

build:

deploy:
  addons:
    postgres:
  secrets:
    - NOTIFICATION_API_KEY
  processor:
    cmd: [ "node", "lib/processor" ] 
  api:
    cmd: [ "npx", "squid-graphql-server", "--subscriptions", "--sql-statement-timeout", "3000" ]

scale:
  dedicated: true
  addons:
    postgres:
      storage: 10Gi
      profile: small
    rpc:
      max-rate: 50rps
  processor:
     profile: small
  api:
     profile: small
     replicas: 1