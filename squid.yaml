manifestVersion: subsquid.io/v0.1
name: kusama-polkassembly
version: 2
description: |-
  Kusama's governance proposals

build:

deploy:
  addons:
    postgres:
      config:
        max_locks_per_transaction: 256
        max_pred_locks_per_transaction: 256
  secrets:
    - NOTIFICATION_API_KEY
  processor:
    cmd: [ "node", "lib/processor" ] 
  api:
    cmd: [ "npx", "squid-graphql-server", "--subscriptions"]

scale:
  dedicated: true
  addons:
     postgres:
         storage: 30Gi
         profile: medium
  processor:
     profile: medium
  api:
     profile: large
     replicas: 3